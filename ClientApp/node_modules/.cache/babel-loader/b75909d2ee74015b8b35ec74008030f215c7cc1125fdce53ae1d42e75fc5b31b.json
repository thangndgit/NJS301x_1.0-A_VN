{"ast":null,"code":"import { configureStore } from \"@reduxjs/toolkit\";\nimport api from \"../api/api\";\nimport popupReducer from \"./popup/reducer\";\nimport userReducer from \"./user/reducer\";\n\n// Load current user\nconst loadUser = async () => {\n  const response = await api.session.get();\n  return response.data.user;\n};\n\n// Init store withe preloadState\nconst initStore = async () => {\n  const preloadedState = {};\n\n  // Get initial user\n  preloadedState.user.user = await loadUser();\n\n  // Create store\n  const store = configureStore({\n    reducer: {\n      popup: popupReducer,\n      user: userReducer\n    },\n    preloadedState: {\n      user: {\n        user\n      }\n    }\n  });\n  return store;\n};\nexport default initStore;","map":{"version":3,"names":["configureStore","api","popupReducer","userReducer","loadUser","response","session","get","data","user","initStore","preloadedState","store","reducer","popup"],"sources":["D:/GitHub/NJS301x_1.0-A_VN/ClientApp/src/store/index.js"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\r\nimport api from \"../api/api\";\r\n\r\nimport popupReducer from \"./popup/reducer\";\r\nimport userReducer from \"./user/reducer\";\r\n\r\n// Load current user\r\nconst loadUser = async () => {\r\n  const response = await api.session.get();\r\n  return response.data.user;\r\n};\r\n\r\n// Init store withe preloadState\r\nconst initStore = async () => {\r\n  const preloadedState = {};\r\n\r\n  // Get initial user\r\n  preloadedState.user.user = await loadUser();\r\n\r\n  // Create store\r\n  const store = configureStore({\r\n    reducer: {\r\n      popup: popupReducer,\r\n      user: userReducer,\r\n    },\r\n    preloadedState: {\r\n      user: { user },\r\n    },\r\n  });\r\n\r\n  return store;\r\n};\r\n\r\nexport default initStore;\r\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,kBAAkB;AACjD,OAAOC,GAAG,MAAM,YAAY;AAE5B,OAAOC,YAAY,MAAM,iBAAiB;AAC1C,OAAOC,WAAW,MAAM,gBAAgB;;AAExC;AACA,MAAMC,QAAQ,GAAG,YAAY;EAC3B,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,OAAO,CAACC,GAAG,EAAE;EACxC,OAAOF,QAAQ,CAACG,IAAI,CAACC,IAAI;AAC3B,CAAC;;AAED;AACA,MAAMC,SAAS,GAAG,YAAY;EAC5B,MAAMC,cAAc,GAAG,CAAC,CAAC;;EAEzB;EACAA,cAAc,CAACF,IAAI,CAACA,IAAI,GAAG,MAAML,QAAQ,EAAE;;EAE3C;EACA,MAAMQ,KAAK,GAAGZ,cAAc,CAAC;IAC3Ba,OAAO,EAAE;MACPC,KAAK,EAAEZ,YAAY;MACnBO,IAAI,EAAEN;IACR,CAAC;IACDQ,cAAc,EAAE;MACdF,IAAI,EAAE;QAAEA;MAAK;IACf;EACF,CAAC,CAAC;EAEF,OAAOG,KAAK;AACd,CAAC;AAED,eAAeF,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}