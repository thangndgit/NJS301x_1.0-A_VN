{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport api from \"../../api/api\";\nlet initialState = {\n  isLoggedIn: false,\n  user: null\n};\n\n// // Get session\n// api.session\n//   .get()\n//   // Process data\n//   .then((res) => {\n//     if (res.data.item) initialState = res.data.item;\n//   })\n//   // Catch error\n//   .catch((err) => alert(err.response.data.error));\n\nconst slice = createSlice({\n  name: \"auth\",\n  initialState: initialState,\n  reducers: {\n    login(state, action) {\n      // Get user\n      const user = action.payload.user;\n      const navigate = action.payload.navigate;\n\n      // Create session\n      api.session.create(user)\n      // Process data\n      .then(res => {\n        alert(res.data.message);\n        state.isLoggedIn = true;\n        state.user = res.data.user;\n        if (navigate) navigate();\n      })\n      // Catch error\n      .catch(err => alert(err.response.data.error));\n    },\n    logout(state) {\n      // Delete session\n      api.session.delete\n      // Process data\n      .then(res => {\n        alert(res.data.message);\n        state.isLoggedIn = false;\n        state.user = null;\n      })\n      // Catch error\n      .catch(err => alert(err.response.data.error));\n    }\n  }\n});\nexport const authActions = slice.actions;\nexport default slice.reducer;","map":{"version":3,"names":["createSlice","api","initialState","isLoggedIn","user","slice","name","reducers","login","state","action","payload","navigate","session","create","then","res","alert","data","message","catch","err","response","error","logout","delete","authActions","actions","reducer"],"sources":["D:/GitHub/NJS301x_1.0-A_VN/ClientApp/src/store/reducers/auth.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport api from \"../../api/api\";\r\n\r\nlet initialState = {\r\n  isLoggedIn: false,\r\n  user: null,\r\n};\r\n\r\n// // Get session\r\n// api.session\r\n//   .get()\r\n//   // Process data\r\n//   .then((res) => {\r\n//     if (res.data.item) initialState = res.data.item;\r\n//   })\r\n//   // Catch error\r\n//   .catch((err) => alert(err.response.data.error));\r\n\r\nconst slice = createSlice({\r\n  name: \"auth\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    login(state, action) {\r\n      // Get user\r\n      const user = action.payload.user;\r\n      const navigate = action.payload.navigate;\r\n\r\n      // Create session\r\n      api.session\r\n        .create(user)\r\n        // Process data\r\n        .then((res) => {\r\n          alert(res.data.message);\r\n          state.isLoggedIn = true;\r\n          state.user = res.data.user;\r\n          if (navigate) navigate();\r\n        })\r\n        // Catch error\r\n        .catch((err) => alert(err.response.data.error));\r\n    },\r\n    logout(state) {\r\n      // Delete session\r\n      api.session.delete\r\n        // Process data\r\n        .then((res) => {\r\n          alert(res.data.message);\r\n          state.isLoggedIn = false;\r\n          state.user = null;\r\n        })\r\n        // Catch error\r\n        .catch((err) => alert(err.response.data.error));\r\n    },\r\n  },\r\n});\r\n\r\nexport const authActions = slice.actions;\r\nexport default slice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,GAAG,MAAM,eAAe;AAE/B,IAAIC,YAAY,GAAG;EACjBC,UAAU,EAAE,KAAK;EACjBC,IAAI,EAAE;AACR,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,KAAK,GAAGL,WAAW,CAAC;EACxBM,IAAI,EAAE,MAAM;EACZJ,YAAY,EAAEA,YAAY;EAC1BK,QAAQ,EAAE;IACRC,KAAK,CAACC,KAAK,EAAEC,MAAM,EAAE;MACnB;MACA,MAAMN,IAAI,GAAGM,MAAM,CAACC,OAAO,CAACP,IAAI;MAChC,MAAMQ,QAAQ,GAAGF,MAAM,CAACC,OAAO,CAACC,QAAQ;;MAExC;MACAX,GAAG,CAACY,OAAO,CACRC,MAAM,CAACV,IAAI;MACZ;MAAA,CACCW,IAAI,CAAEC,GAAG,IAAK;QACbC,KAAK,CAACD,GAAG,CAACE,IAAI,CAACC,OAAO,CAAC;QACvBV,KAAK,CAACN,UAAU,GAAG,IAAI;QACvBM,KAAK,CAACL,IAAI,GAAGY,GAAG,CAACE,IAAI,CAACd,IAAI;QAC1B,IAAIQ,QAAQ,EAAEA,QAAQ,EAAE;MAC1B,CAAC;MACD;MAAA,CACCQ,KAAK,CAAEC,GAAG,IAAKJ,KAAK,CAACI,GAAG,CAACC,QAAQ,CAACJ,IAAI,CAACK,KAAK,CAAC,CAAC;IACnD,CAAC;IACDC,MAAM,CAACf,KAAK,EAAE;MACZ;MACAR,GAAG,CAACY,OAAO,CAACY;MACV;MAAA,CACCV,IAAI,CAAEC,GAAG,IAAK;QACbC,KAAK,CAACD,GAAG,CAACE,IAAI,CAACC,OAAO,CAAC;QACvBV,KAAK,CAACN,UAAU,GAAG,KAAK;QACxBM,KAAK,CAACL,IAAI,GAAG,IAAI;MACnB,CAAC;MACD;MAAA,CACCgB,KAAK,CAAEC,GAAG,IAAKJ,KAAK,CAACI,GAAG,CAACC,QAAQ,CAACJ,IAAI,CAACK,KAAK,CAAC,CAAC;IACnD;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMG,WAAW,GAAGrB,KAAK,CAACsB,OAAO;AACxC,eAAetB,KAAK,CAACuB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}