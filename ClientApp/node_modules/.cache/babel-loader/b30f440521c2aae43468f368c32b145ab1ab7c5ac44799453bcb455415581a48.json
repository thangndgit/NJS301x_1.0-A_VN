{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MSI PC\\\\OneDrive\\\\Ta\\u0300i li\\xEA\\u0323u\\\\GitHub\\\\NJS301x_1.0-A_VN\\\\ClientApp\\\\src\\\\contexts\\\\AuthContext.jsx\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from \"react\";\nimport API from \"../constants/api\";\n\n// Context for authentication\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\n\n// Provider for authentication context\nexport const AuthProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  // Login state\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [user, setUser] = useState({});\n  useEffect(() => {\n    // Get login state\n    fetch(API.GET_LOGIN, {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(res => res.json())\n    // Set login state\n    .then(data => {\n      setIsLoggedIn(data.isLoggedIn);\n      setUser(data.user);\n      console.log(data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      isLoggedIn,\n      setIsLoggedIn,\n      user\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthProvider, \"gEui683xteo/ON4Ite/5AxtjRBU=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","API","AuthContext","AuthProvider","children","isLoggedIn","setIsLoggedIn","user","setUser","fetch","GET_LOGIN","method","credentials","then","res","json","data","console","log"],"sources":["C:/Users/MSI PC/OneDrive/Tài liệu/GitHub/NJS301x_1.0-A_VN/ClientApp/src/contexts/AuthContext.jsx"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\r\nimport API from \"../constants/api\";\r\n\r\n// Context for authentication\r\nexport const AuthContext = createContext();\r\n\r\n// Provider for authentication context\r\nexport const AuthProvider = ({ children }) => {\r\n  // Login state\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    // Get login state\r\n    fetch(API.GET_LOGIN, {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      // Set login state\r\n      .then((data) => {\r\n        setIsLoggedIn(data.isLoggedIn);\r\n        setUser(data.user);\r\n        console.log(data);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ isLoggedIn, setIsLoggedIn, user }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAOC,GAAG,MAAM,kBAAkB;;AAElC;AAAA;AACA,OAAO,MAAMC,WAAW,gBAAGJ,aAAa,EAAE;;AAE1C;AACA,OAAO,MAAMK,YAAY,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EACvC;EACA,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACO,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACd;IACAU,KAAK,CAACR,GAAG,CAACS,SAAS,EAAE;MACnBC,MAAM,EAAE,KAAK;MACbC,WAAW,EAAE;IACf,CAAC,CAAC,CACCC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE;IACzB;IAAA,CACCF,IAAI,CAAEG,IAAI,IAAK;MACdV,aAAa,CAACU,IAAI,CAACX,UAAU,CAAC;MAC9BG,OAAO,CAACQ,IAAI,CAACT,IAAI,CAAC;MAClBU,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACnB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MAAEX,UAAU;MAAEC,aAAa;MAAEC;IAAK,CAAE;IAAA,UAC9DH;EAAQ;IAAA;IAAA;IAAA;EAAA,QACY;AAE3B,CAAC;AAAC,GAzBWD,YAAY;AAAA,KAAZA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}