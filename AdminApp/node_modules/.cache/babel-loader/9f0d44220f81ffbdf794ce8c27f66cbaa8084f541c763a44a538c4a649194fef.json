{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport api from \"../../api/api\";\n\n// Login action\nexport const login = createAsyncThunk(\"user/login\", async (account, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n  try {\n    // Create session\n    const response = await api.session.create(account);\n    return response.data;\n\n    // Catch error\n  } catch (error) {\n    if (!error.response) throw error;\n    const {\n      status,\n      data\n    } = error.response;\n    return rejectWithValue({\n      status,\n      error: new Error(data.error)\n    });\n  }\n});\n\n// Logout action\nexport const logout = createAsyncThunk(\"user/logout\", async (arg, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n  try {\n    // Delete session\n    const response = await api.session.delete();\n    return response.data;\n\n    // Catch error\n  } catch (error) {\n    if (!error.response) throw error;\n    const {\n      status,\n      data\n    } = error.response;\n    return rejectWithValue({\n      status,\n      error: new Error(data.error)\n    });\n  }\n});\n\n// Load current user;\nexport const load = createAsyncThunk(\"user/load\", async (arg, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n  try {\n    // Get session\n    const response = await api.session.get();\n    return response.data;\n\n    // Catch error\n  } catch (error) {\n    if (!error.response) throw error;\n    const {\n      status,\n      data\n    } = error.response;\n    return rejectWithValue({\n      status,\n      error: new Error(data.error)\n    });\n  }\n});\n\n// Save current user;\nexport const save = createAsyncThunk(\"user/save\", async (arg, _ref4) => {\n  let {\n    getState,\n    rejectWithValue\n  } = _ref4;\n  try {\n    // Save user\n    const user = getState().user.user;\n    const response = await api.user.updateById(user._id, user);\n    return response.data;\n\n    // Catch error\n  } catch (error) {\n    if (!error.response) throw error;\n    const {\n      status,\n      data\n    } = error.response;\n    return rejectWithValue({\n      status,\n      error: new Error(data.error)\n    });\n  }\n});","map":{"version":3,"names":["createAsyncThunk","api","login","account","_ref","rejectWithValue","response","session","create","data","error","status","Error","logout","arg","_ref2","delete","load","_ref3","get","save","_ref4","getState","user","updateById","_id"],"sources":["D:/GitHub/NJS301x_1.0-A_VN/AdminApp/src/store/user/actions.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport api from \"../../api/api\";\r\n\r\n// Login action\r\nexport const login = createAsyncThunk(\"user/login\", async (account, { rejectWithValue }) => {\r\n  try {\r\n    // Create session\r\n    const response = await api.session.create(account);\r\n    return response.data;\r\n\r\n    // Catch error\r\n  } catch (error) {\r\n    if (!error.response) throw error;\r\n    const { status, data } = error.response;\r\n    return rejectWithValue({ status, error: new Error(data.error) });\r\n  }\r\n});\r\n\r\n// Logout action\r\nexport const logout = createAsyncThunk(\"user/logout\", async (arg, { rejectWithValue }) => {\r\n  try {\r\n    // Delete session\r\n    const response = await api.session.delete();\r\n    return response.data;\r\n\r\n    // Catch error\r\n  } catch (error) {\r\n    if (!error.response) throw error;\r\n    const { status, data } = error.response;\r\n    return rejectWithValue({ status, error: new Error(data.error) });\r\n  }\r\n});\r\n\r\n// Load current user;\r\nexport const load = createAsyncThunk(\"user/load\", async (arg, { rejectWithValue }) => {\r\n  try {\r\n    // Get session\r\n    const response = await api.session.get();\r\n    return response.data;\r\n\r\n    // Catch error\r\n  } catch (error) {\r\n    if (!error.response) throw error;\r\n    const { status, data } = error.response;\r\n    return rejectWithValue({ status, error: new Error(data.error) });\r\n  }\r\n});\r\n\r\n// Save current user;\r\nexport const save = createAsyncThunk(\"user/save\", async (arg, { getState, rejectWithValue }) => {\r\n  try {\r\n    // Save user\r\n    const user = getState().user.user;\r\n    const response = await api.user.updateById(user._id, user);\r\n    return response.data;\r\n\r\n    // Catch error\r\n  } catch (error) {\r\n    if (!error.response) throw error;\r\n    const { status, data } = error.response;\r\n    return rejectWithValue({ status, error: new Error(data.error) });\r\n  }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}